<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</title>
  <style>
    body {
      font-family: 'Prompt', sans-serif;
      background-color: #f1fff0;
      text-align: center;
      padding: 40px;
    }

    .container {
      background: #ffffff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      margin: 0 auto;
    }

    h2 {
      color: #388e3c;
    }

    table {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }

    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: left;
    }

    th {
      background-color: #66bb6a;
      color: white;
    }

    input[type="number"] {
      width: 100px;
      padding: 5px;
      border-radius: 5px;
    }

    button {
      background-color: #66bb6a;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #43a047;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>üîê ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (Admin)</h2>
  <table id="userTable">
    <thead>
      <tr>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
        <th>‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</th>
        <th>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</th>
      </tr>
    </thead>
    <tbody>
      <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà -->
    </tbody>
  </table>
</div>

<script>
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô admin ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  const currentUser = localStorage.getItem("userName");
  if (currentUser !== "kenxd") {
    alert("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ");
    window.location.href = "index.html"; // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà admin
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å localStorage
  function loadUsers() {
    const users = JSON.parse(localStorage.getItem("users")) || {};
    const userTableBody = document.getElementById("userTable").getElementsByTagName("tbody")[0];
    userTableBody.innerHTML = ""; // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô

    for (const username in users) {
      const user = users[username];
      const row = document.createElement("tr");
      
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
      const nameCell = document.createElement("td");
      nameCell.textContent = username;
      
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç
      const coinCell = document.createElement("td");
      coinCell.textContent = user.coins;

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç
      const editCell = document.createElement("td");
      const coinInput = document.createElement("input");
      coinInput.type = "number";
      coinInput.value = user.coins;
      coinInput.min = 0;
      coinInput.addEventListener("change", function() {
        user.coins = parseInt(coinInput.value) || 0;
        users[username] = user;
        localStorage.setItem("users", JSON.stringify(users));
      });

      const updateButton = document.createElement("button");
      updateButton.textContent = "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï";
      updateButton.onclick = function() {
        localStorage.setItem("users", JSON.stringify(users));
        alert("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏Ç‡∏≠‡∏á " + username + " ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
      };

      editCell.appendChild(coinInput);
      editCell.appendChild(updateButton);

      row.appendChild(nameCell);
      row.appendChild(coinCell);
      row.appendChild(editCell);
      userTableBody.appendChild(row);
    }
  }

  // ‡πÇ‡∏´‡∏•‡∏î‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î
  loadUsers();
</script>

</body>
</html>
